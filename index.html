<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>BetKing –ú—ñ–Ω—ñ-–î–æ–¥–∞—Ç–æ–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            padding: 0; /* –ó–∞–±–∏—Ä–∞—î–º–æ –≥–ª–æ–±–∞–ª—å–Ω–∏–π padding, –±—É–¥–µ–º–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–∏–º –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç—É */
            margin: 0;
            color: var(--tg-theme-text-color, #000000);
            background-color: var(--tg-theme-bg-color, #ffffff);
            overflow-x: hidden;
            display: flex; /* –î–ª—è –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è —Ñ—É—Ç–µ—Ä–∞ –∞–±–æ —Ö–µ–¥–µ—Ä–∞ */
            flex-direction: column;
            min-height: 100vh; /* –©–æ–± –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–π–º–∞–≤ –≤–µ—Å—å –µ–∫—Ä–∞–Ω */
        }
        .main-header { /* –ù–æ–≤–∏–π —Å—Ç–∏–ª—å –¥–ª—è —Ö–µ–¥–µ—Ä–∞ –∑ –±–∞–ª–∞–Ω—Å–∞–º–∏ */
            padding: 10px 15px;
            background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-bottom: 1px solid var(--tg-theme-hint-color, #cccccc);
            text-align: center; /* –ü–æ–∫–∏ —â–æ, –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ */
        }
        .balance-info p {
            margin: 2px 0;
            font-size: 12px;
            color: var(--tg-theme-text-color, #333333);
        }
        .balance-info strong {
            color: var(--tg-theme-link-color, #007bff); /* –í–∏–¥—ñ–ª–µ–Ω–Ω—è —Å—É–º–∏ –±–∞–ª–∞–Ω—Å—É */
        }

        nav {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            background-color: var(--tg-theme-secondary-bg-color, #e9ecef);
            border-bottom: 1px solid var(--tg-theme-hint-color, #cccccc);
        }
        nav button {
            flex-grow: 1;
            padding: 10px 5px;
            font-size: 14px; /* –¢—Ä–æ—Ö–∏ –º–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó */
            color: var(--tg-theme-button-text-color, #ffffff);
            background-color: var(--tg-theme-button-color, #007bff);
            border: none;
            border-radius: 0; /* –ú–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ —ó—Ö –±–µ–∑ —Ä–∞–¥—ñ—É—Å—É –¥–ª—è –≤–∏–≥–ª—è–¥—É –≤–∫–ª–∞–¥–æ–∫ */
            cursor: pointer;
            margin: 0 2px;
            opacity: 0.7;
        }
        nav button.active {
            opacity: 1;
            background-color: var(--tg-theme-link-color, #0056b3); /* –ö–æ–ª—ñ—Ä –∞–∫—Ç–∏–≤–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏ */
            /* –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –Ω–∏–∂–Ω—î –ø—ñ–¥–∫—Ä–µ—Å–ª–µ–Ω–Ω—è –∞–±–æ —ñ–Ω—à–∏–π —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä */
            border-bottom: 3px solid var(--tg-theme-button-text-color, #FFE433);
        }

        .page-content {
            padding: 15px; /* Padding —Ç–µ–ø–µ—Ä —Ç—É—Ç, –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ */
            flex-grow: 1; /* –©–æ–± –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–π–º–∞–≤ –¥–æ—Å—Ç—É–ø–Ω–µ –º—ñ—Å—Ü–µ */
        }
        .page {
            display: none; /* –í—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ */
        }
        .page.active {
            display: block; /* –ê–∫—Ç–∏–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –≤–∏–¥–∏–º–∞ */
        }

        /* –†–µ—à—Ç–∞ —Å—Ç–∏–ª—ñ–≤, —è–∫ –±—É–ª–∏, –∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è–º–∏ */
        .container { /* –¶–µ–π –∫–ª–∞—Å —Ç–µ–ø–µ—Ä –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω —è–∫ –≥–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±–≥–æ—Ä—Ç–∫–æ–≤–∏–π */
            text-align: center;
        }
        h1, h2 { /* h1 —Ç–µ–ø–µ—Ä –±—É–¥–µ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ */
            color: var(--tg-theme-text-color, #000000);
        }
        h1 { font-size: 24px; margin-bottom: 10px; }
        h2 { font-size: 20px; margin-top: 25px; margin-bottom: 15px; }
        p { font-size: 16px; margin-bottom: 10px; }

        button, .odds-button, .stake-button, .action-button, .prediction-button {
            padding: 10px 15px; font-size: 16px;
            color: var(--tg-theme-button-text-color, #ffffff);
            background-color: var(--tg-theme-button-color, #007bff);
            border: none; border-radius: 8px; cursor: pointer;
            margin: 5px; min-width: 80px;
        }
        .odds-button.selected, .prediction-button.selected {
            background-color: #FFE433; color: #000000;
        }
        .prediction-button:disabled {
            background-color: var(--tg-theme-hint-color, #cccccc); cursor: not-allowed;
        }
        .stake-options, .bet-confirmation, .prediction-result {
            margin-top: 15px; min-height: 40px;
        }
        .hidden { display: none; }

        #userInfo { /* –ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ –≤ –∫—ñ–Ω–µ—Ü—å —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –º–æ–∂–µ –±—É—Ç–∏ —Å–ø—ñ–ª—å–Ω–∏–º —Ñ—É—Ç–µ—Ä–æ–º */
            padding: 15px;
            text-align: center;
            font-size: 12px;
            color: var(--tg-theme-hint-color, #999999);
            word-break: break-all;
            border-top: 1px solid var(--tg-theme-hint-color, #cccccc);
        }
        .section-block {
            padding: 10px; border: 1px solid var(--tg-theme-hint-color, #dddddd);
            border-radius: 8px; margin-bottom: 15px;
            background-color: var(--tg-theme-secondary-bg-color, #f8f8f8);
        }
        .teams, .express-title, .daily-match-title {
            font-size: 18px; font-weight: bold; margin-bottom: 5px;
        }
        .match-date, .express-total-odds, .streak-info, .rewards-info {
            font-size: 14px; color: var(--tg-theme-hint-color, #777777); margin-bottom: 10px;
        }
        .rewards-info { font-style: italic; }
        .odds-container, .prediction-options {
            display: flex; justify-content: space-around; align-items: center; margin-bottom:10px;
        }
        .express-selections {
            list-style: none; padding-left: 0; text-align: left; font-size: 14px;
        }
        .express-selections li {
            padding: 5px 0; border-bottom: 1px dashed var(--tg-theme-hint-color, #eeeeee);
        }
        .express-selections li:last-child { border-bottom: none; }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∑—Ä–æ–±–ª–µ–Ω—É —Å—Ç–∞–≤–∫—É/–ø—Ä–æ–≥–Ω–æ–∑ */
        .info-message {
            padding: 10px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 14px;
            border: 1px solid transparent;
        }
        .info-message.success {
            background-color: var(--tg-theme-secondary-bg-color, #e6ffed); /* –°–≤—ñ—Ç–ª–æ-–∑–µ–ª–µ–Ω–∏–π */
            border-color: var(--tg-theme-button-color, #58cc02); /* –ó–µ–ª–µ–Ω–∏–π */
            color: var(--tg-theme-text-color, #228B22); /* –¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω–∏–π —Ç–µ–∫—Å—Ç */
        }
        .info-message.notice {
            background-color: var(--tg-theme-secondary-bg-color, #fff3cd); /* –°–≤—ñ—Ç–ª–æ-–∂–æ–≤—Ç–∏–π */
            border-color: var(--tg-theme-button-color, #ffeeba); /* –ñ–æ–≤—Ç–∏–π */
            color: var(--tg-theme-text-color, #856404); /* –¢–µ–º–Ω–æ-–∂–æ–≤—Ç–∏–π —Ç–µ–∫—Å—Ç */
        }

    </style>
</head>
<body>
    <header class="main-header">
        <div class="balance-info">
            <p>–ë–∞–ª–∞–Ω—Å: <strong id="mainBalanceDisplay">1500.00</strong> –≥—Ä–Ω</p>
            <p>–ë–æ–Ω—É—Å–∏: <strong id="bonusBalanceDisplay">250.50</strong> –≥—Ä–Ω</p>
            <p>–§—Ä—ñ–±–µ—Ç–∏: <strong id="freebetsDisplay">3</strong> —à—Ç.</p>
        </div>
    </header>

    <nav>
        <button data-page="pageMatchOfTheDay" class="nav-button active">–ú–∞—Ç—á –¥–Ω—è</button>
        <button data-page="pageExpressOfTheDay" class="nav-button">–ï–∫—Å–ø—Ä–µ—Å –¥–Ω—è</button>
        <button data-page="pageDailyLogin" class="nav-button">–©–æ–¥–µ–Ω–Ω–∏–π –ü—Ä–æ–≥–Ω–æ–∑</button>
    </nav>

    <div class="page-content">
        <div id="pageMatchOfTheDay" class="page active">
            <div id="matchOfTheDaySection" class="container">
                <h2>–ú–∞—Ç—á –¥–Ω—è</h2>
                <div class="section-block">
                    <div id="matchTeams" class="teams"></div>
                    <div id="matchDate" class="match-date"></div>
                    <div id="oddsContainer" class="odds-container"></div>
                </div>
                <div id="motdStakeOptions" class="stake-options hidden">
                    <p>–û–±–µ—Ä—ñ—Ç—å —Å—É–º—É —Å—Ç–∞–≤–∫–∏ –¥–ª—è –ú–∞—Ç—á—É –¥–Ω—è:</p>
                    <button class="stake-button motd-stake" data-amount="100">100 –≥—Ä–Ω</button>
                    <button class="stake-button motd-stake" data-amount="200">200 –≥—Ä–Ω</button>
                    <button class="stake-button motd-stake" data-amount="500">500 –≥—Ä–Ω</button>
                </div>
                <div id="motdBetConfirmation" class="bet-confirmation"></div>
            </div>
        </div>

        <div id="pageExpressOfTheDay" class="page">
            <div id="expressOfTheDaySection" class="container">
                <h2>–ï–∫—Å–ø—Ä–µ—Å –¥–Ω—è</h2>
                <div class="section-block">
                    <div id="expressTitle" class="express-title"></div>
                    <ul id="expressSelections" class="express-selections"></ul>
                    <div id="expressTotalOdds" class="express-total-odds"></div>
                    <button id="acceptExpressButton" class="action-button">–ü–æ—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞ —Ü–µ–π –ï–∫—Å–ø—Ä–µ—Å</button>
                </div>
                <div id="eotdStakeOptions" class="stake-options hidden">
                    <p>–û–±–µ—Ä—ñ—Ç—å —Å—É–º—É —Å—Ç–∞–≤–∫–∏ –¥–ª—è –ï–∫—Å–ø—Ä–µ—Å—É –¥–Ω—è:</p>
                    <button class="stake-button eotd-stake" data-amount="100">100 –≥—Ä–Ω</button>
                    <button class="stake-button eotd-stake" data-amount="200">200 –≥—Ä–Ω</button>
                    <button class="stake-button eotd-stake" data-amount="500">500 –≥—Ä–Ω</button>
                </div>
                <div id="eotdBetConfirmation" class="bet-confirmation"></div>
            </div>
        </div>

        <div id="pageDailyLogin" class="page">
            <div id="dailyLoginSection" class="container">
                <h2>–©–æ–¥–µ–Ω–Ω–∏–π –ü—Ä–æ–≥–Ω–æ–∑</h2>
                <div class="section-block">
                    <p class="streak-info">–í–∞—à–∞ –ø–æ—Ç–æ—á–Ω–∞ —Å–µ—Ä—ñ—è –ø–µ—Ä–µ–º–æ–≥: <span id="currentStreak">0</span></p>
                    <p class="rewards-info">–ù–∞–≥–æ—Ä–æ–¥–∏: 3 –¥–Ω—ñ - —Ñ—Ä—ñ–±–µ—Ç X, 7 –¥–Ω—ñ–≤ - —Ñ—Ä—ñ–±–µ—Ç Y, 10 –¥–Ω—ñ–≤ - —Ñ—Ä—ñ–±–µ—Ç Z.</p>
                    <div id="dailyMatchInfo">
                        <p class="daily-match-title">–ú–∞—Ç—á –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ: <span id="dailyMatchTeams"></span></p>
                        <div id="dailyPredictionOptions" class="prediction-options"></div>
                    </div>
                    <div id="dailyPredictionResult" class="prediction-result"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="userInfo"></div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        if (tg.themeParams.secondary_bg_color) {
            tg.setHeaderColor(tg.themeParams.secondary_bg_color); // –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –∫–æ–ª—ñ—Ä —Ö–µ–¥–µ—Ä–∞ Telegram
        } else if (tg.themeParams.bg_color) {
             tg.setHeaderColor(tg.themeParams.bg_color);
        }

        // --- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è ---
        const navButtons = document.querySelectorAll('nav .nav-button');
        const pages = document.querySelectorAll('.page-content .page');

        function setActivePage(pageId) {
            pages.forEach(page => {
                page.classList.toggle('active', page.id === pageId);
            });
            navButtons.forEach(button => {
                button.classList.toggle('active', button.dataset.page === pageId);
            });
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∞–∫—Ç–∏–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É, —â–æ–± –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –Ω–µ—ó
            localStorage.setItem('betkingActivePage', pageId);
        }

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                setActivePage(button.dataset.page);
            });
        });
        
        // --- UTILITY FUNCTIONS ---
        function getFormattedDate(date) { /* ... (–∫–æ–¥ –±–µ–∑ –∑–º—ñ–Ω) ... */ }
        const TODAY_STRING = getFormattedDate(new Date());

        // --- –ú–∞—Ç—á –¥–Ω—è ---
        const matchOfTheDayData = { /* ... (–∫–æ–¥ –±–µ–∑ –∑–º—ñ–Ω) ... */ };
        let motdSelectedOdd = null;
        const matchTeamsEl = document.getElementById('matchTeams');
        const matchDateEl = document.getElementById('matchDate');
        const oddsContainerEl = document.getElementById('oddsContainer');
        const motdStakeOptionsEl = document.getElementById('motdStakeOptions');
        const motdBetConfirmationEl = document.getElementById('motdBetConfirmation');
        // ... (—Ä–µ—à—Ç–∞ –∫–æ–¥—É –¥–ª—è –ú–∞—Ç—á—É –¥–Ω—è, –ï–∫—Å–ø—Ä–µ—Å—É –¥–Ω—è, –©–æ–¥–µ–Ω–Ω–æ–≥–æ –ü—Ä–æ–≥–Ω–æ–∑—É —Ç–∞ UserInfo –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ç–∞–∫–æ—é –∂, —è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –∫—Ä–æ—Ü—ñ)
        // –í–∞–∂–ª–∏–≤–æ: –≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó display...() –º–∞—é—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ DOM –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ.
        // –ú–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–º–æ —ó—Ö –≤–∏–∫–ª–∏–∫ –ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó.

        // --- –ö–æ–ø—ñ—é—î–º–æ –ª–æ–≥—ñ–∫—É –ú–∞—Ç—á—É –¥–Ω—è, —è–∫ –≤–æ–Ω–∞ –±—É–ª–∞ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –∫—Ä–æ—Ü—ñ ---
        matchOfTheDayData.team1 = "–î–∏–Ω–∞–º–æ –ö–∏—ó–≤";
        matchOfTheDayData.team2 = "–®–∞—Ö—Ç–∞—Ä –î–æ–Ω–µ—Ü—å–∫";
        matchOfTheDayData.date = "12 –¢—Ä–∞–≤–Ω—è 2025, 19:00";
        matchOfTheDayData.odds = {
            p1: { name: "–ü1", value: 2.50, description: "–ü–µ—Ä–µ–º–æ–≥–∞ –î–∏–Ω–∞–º–æ –ö–∏—ó–≤" },
            x:  { name: "X", value: 3.20, description: "–ù—ñ—á–∏—è" },
            p2: { name: "–ü2", value: 2.80, description: "–ü–µ—Ä–µ–º–æ–≥–∞ –®–∞—Ö—Ç–∞—Ä –î–æ–Ω–µ—Ü—å–∫" }
        };

        function displayMatchOfTheDay() {
            matchTeamsEl.textContent = `${matchOfTheDayData.team1} - ${matchOfTheDayData.team2}`;
            matchDateEl.textContent = matchOfTheDayData.date;
            oddsContainerEl.innerHTML = '';
            for (const key in matchOfTheDayData.odds) {
                const odd = matchOfTheDayData.odds[key];
                const button = document.createElement('button');
                button.className = 'odds-button';
                button.dataset.key = key;
                button.innerHTML = `${odd.name}<br>${odd.value.toFixed(2)}`;
                button.addEventListener('click', handleMotdOddSelection);
                oddsContainerEl.appendChild(button);
            }
        }
        function handleMotdOddSelection(event) {
            document.querySelectorAll('#oddsContainer .odds-button').forEach(btn => btn.classList.remove('selected'));
            const selectedButton = event.currentTarget;
            selectedButton.classList.add('selected');
            const oddKey = selectedButton.dataset.key;
            motdSelectedOdd = matchOfTheDayData.odds[oddKey];
            motdStakeOptionsEl.classList.remove('hidden');
            motdBetConfirmationEl.innerHTML = ''; // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ innerHTML –¥–ª—è –Ω–æ–≤–∏—Ö —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
        }
        document.querySelectorAll('.motd-stake').forEach(button => {
            button.addEventListener('click', function() {
                if (!motdSelectedOdd) {
                    tg.showAlert('–ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø–æ—á–∞—Ç–∫—É –æ–±–µ—Ä—ñ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—Ç—á—É –¥–Ω—è!');
                    return;
                }
                const amount = parseInt(this.dataset.amount);
                const potentialWin = (amount * motdSelectedOdd.value).toFixed(2);
                // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–æ–≤–∏–π —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
                const confirmationMessage = `–ú–∞—Ç—á –¥–Ω—è: –í–∞—à—É —Å—Ç–∞–≤–∫—É –Ω–∞ "${motdSelectedOdd.description}" (${motdSelectedOdd.name} @${motdSelectedOdd.value.toFixed(2)}) –Ω–∞ —Å—É–º—É ${amount} –≥—Ä–Ω –ø—Ä–∏–π–Ω—è—Ç–æ (MVP).<br>–ú–æ–∂–ª–∏–≤–∏–π –≤–∏–≥—Ä–∞—à: ${potentialWin} –≥—Ä–Ω.`;
                motdBetConfirmationEl.innerHTML = `<div class="info-message success">${confirmationMessage}</div>`;
                
                tg.HapticFeedback.notificationOccurred('success');
                if (typeof confetti === 'function') { confetti({ particleCount: 120, spread: 80, origin: { y: 0.6 } }); }
                motdStakeOptionsEl.classList.add('hidden');
                document.querySelectorAll('#oddsContainer .odds-button').forEach(btn => btn.classList.remove('selected'));
                motdSelectedOdd = null;
            });
        });


        // --- –ï–∫—Å–ø—Ä–µ—Å –¥–Ω—è ---
        const expressOfTheDayData = { /* ... */ };
        const expressTitleEl = document.getElementById('expressTitle');
        const expressSelectionsEl = document.getElementById('expressSelections');
        const expressTotalOddsEl = document.getElementById('expressTotalOdds');
        const acceptExpressButton = document.getElementById('acceptExpressButton');
        const eotdStakeOptionsEl = document.getElementById('eotdStakeOptions');
        const eotdBetConfirmationEl = document.getElementById('eotdBetConfirmation');

        expressOfTheDayData.title = "–°—É–ø–µ—Ä –ï–∫—Å–ø—Ä–µ—Å –Ω–∞ –í–∏—Ö—ñ–¥–Ω—ñ!";
        expressOfTheDayData.selections = [
            { description: "–ú–∞–Ω—á–µ—Å—Ç–µ—Ä –Æ–Ω–∞–π—Ç–µ–¥ - –ü–µ—Ä–µ–º–æ–≥–∞" },
            { description: "–ë–∞—Ä—Å–µ–ª–æ–Ω–∞ - –¢–ë 2.5" },
            { description: "–Æ–≤–µ–Ω—Ç—É—Å - –§–æ—Ä–∞(0)" }
        ];
        expressOfTheDayData.totalOdds = 6.75;

        function displayExpressOfTheDay() {
            expressTitleEl.textContent = expressOfTheDayData.title;
            expressSelectionsEl.innerHTML = ''; 
            expressOfTheDayData.selections.forEach(selection => {
                const listItem = document.createElement('li');
                listItem.textContent = selection.description;
                expressSelectionsEl.appendChild(listItem);
            });
            expressTotalOddsEl.textContent = `–ó–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç: ${expressOfTheDayData.totalOdds.toFixed(2)}`;
        }
        acceptExpressButton.addEventListener('click', function() {
            eotdStakeOptionsEl.classList.remove('hidden');
            eotdBetConfirmationEl.innerHTML = '';
        });
        document.querySelectorAll('.eotd-stake').forEach(button => {
            button.addEventListener('click', function() {
                const amount = parseInt(this.dataset.amount);
                const potentialWin = (amount * expressOfTheDayData.totalOdds).toFixed(2);
                const confirmationMessage = `–ï–∫—Å–ø—Ä–µ—Å –¥–Ω—è: –í–∞—à—É —Å—Ç–∞–≤–∫—É –∑ –∫–æ–µ—Ñ. ${expressOfTheDayData.totalOdds.toFixed(2)} –Ω–∞ —Å—É–º—É ${amount} –≥—Ä–Ω –ø—Ä–∏–π–Ω—è—Ç–æ (MVP).<br>–ú–æ–∂–ª–∏–≤–∏–π –≤–∏–≥—Ä–∞—à: ${potentialWin} –≥—Ä–Ω.`;
                eotdBetConfirmationEl.innerHTML = `<div class="info-message success">${confirmationMessage}</div>`;
                
                tg.HapticFeedback.notificationOccurred('success');
                if (typeof confetti === 'function') { confetti({ particleCount: 120, spread: 80, origin: { y: 0.6 }, zIndex: 9999 }); }
                eotdStakeOptionsEl.classList.add('hidden');
            });
        });

        // --- –©–æ–¥–µ–Ω–Ω–∏–π –ü—Ä–æ–≥–Ω–æ–∑ ---
        // –ü–æ–∫–∏ —â–æ –∑–∞–ª–∏—à–∞—î–º–æ —Å—Ç–∞—Ä—É –ª–æ–≥—ñ–∫—É, –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –±—É–¥–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º
        const dailyMatchData = { /* ... */ };
        const dailyLoginState = { currentStreak: 0, lastPredictionDate: null };
        const currentStreakEl = document.getElementById('currentStreak');
        const dailyMatchTeamsEl = document.getElementById('dailyMatchTeams');
        const dailyPredictionOptionsEl = document.getElementById('dailyPredictionOptions');
        const dailyPredictionResultEl = document.getElementById('dailyPredictionResult');

        dailyMatchData.team1 = "–í–æ—Ä—Å–∫–ª–∞ –ü–æ–ª—Ç–∞–≤–∞";
        dailyMatchData.team2 = "–ó–æ—Ä—è –õ—É–≥–∞–Ω—Å—å–∫";
        dailyMatchData.options = {
            p1: { name: "–ü1", description: "–ü–µ—Ä–µ–º–æ–≥–∞ –í–æ—Ä—Å–∫–ª–∞" },
            x:  { name: "X", description: "–ù—ñ—á–∏—è" },
            p2: { name: "–ü2", description: "–ü–µ—Ä–µ–º–æ–≥–∞ –ó–æ—Ä—è" }
        };
        dailyMatchData.correctOutcome = "p1";

        function loadDailyLoginState() { /* ... (–∫–æ–¥ –±–µ–∑ –∑–º—ñ–Ω) ... */ }
        function saveDailyLoginState() { /* ... (–∫–æ–¥ –±–µ–∑ –∑–º—ñ–Ω) ... */ }
        function displayDailyPredictionModule() { /* ... (–∫–æ–¥ –∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ –¥–ª—è —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å) ... */ }
        function handleDailyPrediction(event) { /* ... (–∫–æ–¥ –∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ –¥–ª—è —Å—Ç–∏–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å) ... */ }

        function getFormattedDate(date) { // –ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫—â–æ –±—É–ª–æ –≤–∏—â–µ
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function loadDailyLoginState() {
            const savedStreak = localStorage.getItem('betkingDailyStreak');
            const savedDate = localStorage.getItem('betkingLastPredictionDate');
            if (savedStreak !== null) dailyLoginState.currentStreak = parseInt(savedStreak, 10);
            if (savedDate !== null) dailyLoginState.lastPredictionDate = savedDate;
            if (dailyLoginState.lastPredictionDate && dailyLoginState.lastPredictionDate !== TODAY_STRING) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                if (dailyLoginState.lastPredictionDate !== getFormattedDate(yesterday)) {
                    dailyLoginState.currentStreak = 0;
                }
            }
            currentStreakEl.textContent = dailyLoginState.currentStreak;
        }
        function saveDailyLoginState() {
            localStorage.setItem('betkingDailyStreak', dailyLoginState.currentStreak);
            localStorage.setItem('betkingLastPredictionDate', dailyLoginState.lastPredictionDate);
        }
        function displayDailyPredictionModule() {
            loadDailyLoginState();
            currentStreakEl.textContent = dailyLoginState.currentStreak;
            dailyMatchTeamsEl.textContent = `${dailyMatchData.team1} - ${dailyMatchData.team2}`;
            dailyPredictionOptionsEl.innerHTML = '';
            let alreadyPredictedToday = dailyLoginState.lastPredictionDate === TODAY_STRING;

            for (const key in dailyMatchData.options) {
                const option = dailyMatchData.options[key];
                const button = document.createElement('button');
                button.className = 'prediction-button';
                button.dataset.key = key;
                button.textContent = option.name;
                button.title = option.description;
                if (alreadyPredictedToday) button.disabled = true;
                button.addEventListener('click', handleDailyPrediction);
                dailyPredictionOptionsEl.appendChild(button);
            }
            if (alreadyPredictedToday) {
                dailyPredictionResultEl.innerHTML = `<div class="info-message notice">–í–∏ –≤–∂–µ –∑—Ä–æ–±–∏–ª–∏ —Å–≤—ñ–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ. –ü–æ–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—å –∑–∞–≤—Ç—Ä–∞!</div>`;
            } else {
                dailyPredictionResultEl.innerHTML = `<div class="info-message notice">–ó—Ä–æ–±—ñ—Ç—å —Å–≤—ñ–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–∞—Ç—á –¥–Ω—è!</div>`;
            }
        }
        function handleDailyPrediction(event) {
            if (dailyLoginState.lastPredictionDate === TODAY_STRING) {
                tg.showAlert("–í–∏ –≤–∂–µ –∑—Ä–æ–±–∏–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ!");
                return;
            }
            const predictedKey = event.currentTarget.dataset.key;
            const isCorrect = predictedKey === dailyMatchData.correctOutcome;
            let message = `–í–∞—à –ø—Ä–æ–≥–Ω–æ–∑: ${dailyMatchData.options[predictedKey].description}. `;
            let messageClass = 'notice';

            if (isCorrect) {
                message += "–¶–µ –ü–†–ê–í–ò–õ–¨–ù–û! ‚úÖ";
                messageClass = 'success';
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                if (dailyLoginState.lastPredictionDate === getFormattedDate(yesterday)) {
                    dailyLoginState.currentStreak++;
                } else {
                    dailyLoginState.currentStreak = 1;
                }
                tg.HapticFeedback.notificationOccurred('success');
                if (typeof confetti === 'function') { confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } }); }
            } else {
                message += "–ù–∞ –∂–∞–ª—å, –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û. ‚ùå";
                dailyLoginState.currentStreak = 0;
                tg.HapticFeedback.notificationOccurred('error');
            }
            dailyLoginState.lastPredictionDate = TODAY_STRING;
            saveDailyLoginState();
            currentStreakEl.textContent = dailyLoginState.currentStreak;
            
            const rewards = { 3: "–§—Ä—ñ–±–µ—Ç X", 7: "–§—Ä—ñ–±–µ—Ç Y", 10: "–§—Ä—ñ–±–µ—Ç Z" };
            if (isCorrect && rewards[dailyLoginState.currentStreak]) {
                message += `\nüéâ –í—ñ—Ç–∞—î–º–æ! –í–∏ –≤–∏–≥—Ä–∞–ª–∏ ${rewards[dailyLoginState.currentStreak]} –∑–∞ ${dailyLoginState.currentStreak} –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤ –ø–æ—Å–ø—ñ–ª—å!`;
            }
            dailyPredictionResultEl.innerHTML = `<div class="info-message ${messageClass}">${message.replace(/\n/g, "<br>")}</div>`;
            document.querySelectorAll('.prediction-button').forEach(btn => btn.disabled = true);
        }

        // --- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ ---
        const userInfoDiv = document.getElementById('userInfo');
        // ... (–∫–æ–¥ –¥–ª—è userInfoDiv –±–µ–∑ –∑–º—ñ–Ω) ...
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            const user = tg.initDataUnsafe.user;
            let userInfoText = `–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: ${user.first_name || ''} ${user.last_name || ''} (@${user.username || 'N/A'}, ID: ${user.id})`;
            userInfoDiv.innerHTML = userInfoText;
        } else {
            userInfoDiv.textContent = "–î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Telegram –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ.";
        }

        // --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è ---
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ, —è–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—ñ–¥–∫—Ä–∏—Ç–∏ (–∑ localStorage –∞–±–æ –ø–µ—Ä—à—É –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
        const lastActivePage = localStorage.getItem('betkingActivePage') || 'pageMatchOfTheDay';
        setActivePage(lastActivePage);

        displayMatchOfTheDay();
        displayExpressOfTheDay();
        displayDailyPredictionModule();

    </script>
</body>
</html>